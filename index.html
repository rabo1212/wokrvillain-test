<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•Œê³ ë³´ë‹ˆ ë‚´ê°€ ë¹ŒëŸ°? | íšŒì‚¬ ë¹ŒëŸ° í…ŒìŠ¤íŠ¸</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #0a0a0a;
            --white: #f5f5f5;
            --green: #00ff88;
            --green-dark: #00cc6a;
            --gray: #333;
            --gray-light: #666;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--black);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
        }

        /* Intro Screen */
        .screen {
            display: none;
            min-height: 100vh;
            padding: 40px 24px;
            position: relative;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
        }

        /* Intro */
        .intro-screen {
            justify-content: center;
            align-items: center;
            text-align: center;
            background: var(--black);
            position: relative;
            overflow: hidden;
        }

        .intro-screen::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(0, 255, 136, 0.03) 0%, transparent 50%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .intro-badge {
            display: inline-block;
            padding: 8px 16px;
            border: 1px solid var(--green);
            color: var(--green);
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 32px;
            position: relative;
            z-index: 1;
            animation: fadeInDown 0.8s ease;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .intro-title {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 52px;
            line-height: 1.1;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .intro-title .highlight {
            color: var(--green);
            display: block;
            font-size: 72px;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .intro-subtitle {
            font-size: 14px;
            color: var(--gray-light);
            margin-bottom: 48px;
            line-height: 1.8;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease 0.4s both;
        }

        .intro-subtitle span {
            color: var(--white);
        }

        .start-btn {
            background: var(--green);
            color: var(--black);
            border: none;
            padding: 20px 64px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease 0.6s both;
        }

        .start-btn:hover {
            background: var(--white);
            transform: scale(1.05);
        }

        .start-btn:active {
            transform: scale(0.98);
        }

        /* MBTI Selection Screen */
        .mbti-screen {
            background: var(--black);
            justify-content: flex-start;
            padding-top: 60px;
        }

        .mbti-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .mbti-step {
            color: var(--green);
            font-size: 12px;
            letter-spacing: 4px;
            margin-bottom: 16px;
        }

        .mbti-title {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 32px;
        }

        .mbti-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .mbti-btn {
            background: transparent;
            border: 1px solid var(--gray);
            color: var(--white);
            padding: 16px 8px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            letter-spacing: 1px;
        }

        .mbti-btn:hover {
            border-color: var(--green);
            color: var(--green);
        }

        .mbti-btn.selected {
            background: var(--green);
            border-color: var(--green);
            color: var(--black);
        }

        .mbti-note {
            text-align: center;
            color: var(--gray-light);
            font-size: 13px;
            margin-top: 24px;
        }

        /* Question Screen */
        .question-screen {
            background: var(--black);
            justify-content: flex-start;
            padding-top: 40px;
        }

        .progress-bar {
            width: 100%;
            height: 3px;
            background: var(--gray);
            margin-bottom: 48px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--green);
            transition: width 0.4s ease;
        }

        .question-number {
            color: var(--green);
            font-size: 13px;
            letter-spacing: 3px;
            margin-bottom: 24px;
        }

        .question-text {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 28px;
            line-height: 1.4;
            margin-bottom: 48px;
            min-height: 120px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .option-btn {
            background: transparent;
            border: 1px solid var(--gray);
            color: var(--white);
            padding: 24px;
            font-size: 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            line-height: 1.5;
            position: relative;
            overflow: hidden;
        }

        .option-btn::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            background: var(--green);
            transition: width 0.3s ease;
            z-index: -1;
        }

        .option-btn:hover {
            border-color: var(--green);
            color: var(--green);
        }

        .option-btn:hover::before {
            width: 4px;
        }

        .option-btn:active {
            background: var(--green);
            color: var(--black);
        }

        /* Loading Screen */
        .loading-screen {
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .loading-icon {
            width: 80px;
            height: 80px;
            border: 3px solid var(--gray);
            border-top-color: var(--green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 32px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 14px;
            color: var(--gray-light);
        }

        .loading-text span {
            color: var(--green);
            font-weight: 700;
        }

        /* Result Screen */
        .result-screen {
            background: var(--black);
            justify-content: flex-start;
            padding-top: 40px;
            padding-bottom: 60px;
        }

        .result-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .result-label {
            color: var(--green);
            font-size: 12px;
            letter-spacing: 4px;
            margin-bottom: 8px;
        }

        .result-mbti {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 56px;
            letter-spacing: 4px;
        }

        .villain-card {
            background: linear-gradient(145deg, #111 0%, #0a0a0a 100%);
            border: 1px solid var(--gray);
            padding: 32px 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }

        .villain-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--green);
        }

        .villain-gauge {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .gauge-label {
            font-size: 13px;
            color: var(--gray-light);
            white-space: nowrap;
        }

        .gauge-bar {
            flex: 1;
            height: 8px;
            background: var(--gray);
            position: relative;
        }

        .gauge-fill {
            height: 100%;
            background: var(--green);
            transition: width 1s ease;
        }

        .gauge-value {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 24px;
            color: var(--green);
            min-width: 60px;
            text-align: right;
        }

        .villain-type {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 28px;
            margin-bottom: 16px;
            line-height: 1.3;
        }

        .villain-desc {
            font-size: 14px;
            line-height: 1.8;
            color: var(--gray-light);
            margin-bottom: 24px;
        }

        .villain-desc strong {
            color: var(--white);
        }

        .villain-traits {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 24px;
        }

        .trait-tag {
            padding: 8px 16px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            color: var(--green);
            font-size: 12px;
        }

        .match-section {
            background: var(--gray);
            padding: 20px;
            margin-top: 24px;
        }

        .match-title {
            font-size: 12px;
            color: var(--gray-light);
            margin-bottom: 12px;
            letter-spacing: 2px;
        }

        .match-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .match-row:last-child {
            margin-bottom: 0;
        }

        .match-label {
            font-size: 13px;
        }

        .match-value {
            font-weight: 700;
            color: var(--green);
        }

        .match-value.bad {
            color: #ff6b6b;
        }

        .warning-box {
            background: rgba(255, 107, 107, 0.1);
            border-left: 3px solid #ff6b6b;
            padding: 16px 20px;
            margin-top: 24px;
        }

        .warning-title {
            font-size: 12px;
            color: #ff6b6b;
            margin-bottom: 8px;
            letter-spacing: 2px;
        }

        .warning-text {
            font-size: 14px;
            line-height: 1.6;
            color: var(--gray-light);
        }

        .tip-box {
            background: rgba(0, 255, 136, 0.05);
            border-left: 3px solid var(--green);
            padding: 16px 20px;
            margin-top: 16px;
        }

        .tip-title {
            font-size: 12px;
            color: var(--green);
            margin-bottom: 8px;
            letter-spacing: 2px;
        }

        .tip-text {
            font-size: 14px;
            line-height: 1.6;
            color: var(--gray-light);
        }

        .share-section {
            margin-top: 32px;
        }

        .share-btn {
            width: 100%;
            background: var(--green);
            color: var(--black);
            border: none;
            padding: 20px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 12px;
        }

        .share-btn:hover {
            background: var(--white);
        }

        .retry-btn {
            width: 100%;
            background: transparent;
            color: var(--white);
            border: 1px solid var(--gray);
            padding: 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .retry-btn:hover {
            border-color: var(--white);
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Intro Screen -->
        <div class="screen intro-screen active" id="intro">
            <span class="intro-badge">MBTI Ã— OFFICE Ã— VILLAIN</span>
            <h1 class="intro-title">
                ì•Œê³ ë³´ë‹ˆ
                <span class="highlight">ë‚´ê°€ ë¹ŒëŸ°?</span>
            </h1>
            <p class="intro-subtitle">
                íšŒì‚¬ì—ì„œ <span>ë‚˜ë§Œ í˜ë“  ì¤„</span> ì•Œì•˜ëŠ”ë°<br>
                ã„¹ã…‡ ë¹ŒëŸ°ì€ ë”°ë¡œ ìˆì—ˆìŒ ã…‹ã…‹<br>
                <span>ê·¼ë° ê·¸ê²Œ ë‚˜ì¼ ìˆ˜ë„?</span>
            </p>
            <button class="start-btn" onclick="showMbtiScreen()">í…ŒìŠ¤íŠ¸ ì‹œì‘ â†’</button>
        </div>

        <!-- MBTI Selection Screen -->
        <div class="screen mbti-screen" id="mbti">
            <div class="mbti-header">
                <p class="mbti-step">STEP 01</p>
                <h2 class="mbti-title">ë‹¹ì‹ ì˜ MBTIëŠ”?</h2>
            </div>
            <div class="mbti-grid">
                <button class="mbti-btn" onclick="selectMbti(this)">ISTJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ISFJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">INFJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">INTJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ISTP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ISFP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">INFP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">INTP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ESTP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ESFP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ENFP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ENTP</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ESTJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ESFJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ENFJ</button>
                <button class="mbti-btn" onclick="selectMbti(this)">ENTJ</button>
            </div>
            <p class="mbti-note">MBTI ëª¨ë¥´ë©´ ëŒ€ì¶© ì°ì–´ë„ ë¨ ã…‹</p>
        </div>

        <!-- Question Screen -->
        <div class="screen question-screen" id="question">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            <p class="question-number" id="questionNumber">Q.01</p>
            <h2 class="question-text" id="questionText"></h2>
            <div class="options" id="options"></div>
        </div>

        <!-- Loading Screen -->
        <div class="screen loading-screen" id="loading">
            <div class="loading-icon"></div>
            <p class="loading-text">ë‹¹ì‹ ì˜ <span>ë¹ŒëŸ° ì§€ìˆ˜</span> ë¶„ì„ ì¤‘...</p>
        </div>

        <!-- Result Screen -->
        <div class="screen result-screen" id="result">
            <div class="result-header">
                <p class="result-label">YOUR VILLAIN TYPE</p>
                <h1 class="result-mbti" id="resultMbti"></h1>
            </div>
            <div class="villain-card">
                <div class="villain-gauge">
                    <span class="gauge-label">ë¹ŒëŸ° ì§€ìˆ˜</span>
                    <div class="gauge-bar">
                        <div class="gauge-fill" id="gaugeFill"></div>
                    </div>
                    <span class="gauge-value" id="gaugeValue"></span>
                </div>
                <h2 class="villain-type" id="villainType"></h2>
                <p class="villain-desc" id="villainDesc"></p>
                <div class="villain-traits" id="villainTraits"></div>
                <div class="match-section">
                    <p class="match-title">CHEMISTRY</p>
                    <div class="match-row">
                        <span class="match-label">ì°°ë–¡ ì¡°í•©</span>
                        <span class="match-value" id="goodMatch"></span>
                    </div>
                    <div class="match-row">
                        <span class="match-label">ìƒê·¹ ì¡°í•©</span>
                        <span class="match-value bad" id="badMatch"></span>
                    </div>
                </div>
                <div class="warning-box">
                    <p class="warning-title">âš ï¸ ì£¼ì˜</p>
                    <p class="warning-text" id="warningText"></p>
                </div>
                <div class="tip-box">
                    <p class="tip-title">ğŸ’¡ TIP</p>
                    <p class="tip-text" id="tipText"></p>
                </div>
            </div>
            <div class="share-section">
                <button class="share-btn" onclick="shareResult()">ì¹œêµ¬í•œí…Œ ê³µìœ í•˜ê¸° ğŸ“¤</button>
                <button class="retry-btn" onclick="retry()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        let selectedMbti = '';
        let currentQuestion = 0;
        let villainScore = 0;

        const questions = [
            {
                text: "ì›”ìš”ì¼ ì•„ì¹¨, íŒ€ì¥ì´ ê¸´ê¸‰ íšŒì˜ë¥¼ ì†Œì§‘í•¨. ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
                options: [
                    { text: "ã…‹ã…‹ ë˜ ë­” ì¼ì´ë˜ (ì†ìœ¼ë¡œ í•œìˆ¨)", score: 1 },
                    { text: "íšŒì˜ë¡ ë¯¸ë¦¬ ì¤€ë¹„í•´ê° (í”„ë¡œ)", score: 2 },
                    { text: "ëŠ¦ê²Œ ë“¤ì–´ê°€ì„œ ì¡´ì¬ê° ì–´í•„", score: 3 },
                    { text: "íšŒì˜ ì¤‘ ë”´ì§“í•˜ë‹¤ ê±¸ë¦¼ ã…‹", score: 4 }
                ]
            },
            {
                text: "ë™ë£Œê°€ ë‹ˆ ì•„ì´ë””ì–´ë¥¼ ìê¸° ê±°ë¼ê³  ë°œí‘œí•¨. ì–´ë–»ê²Œ í•¨?",
                options: [
                    { text: "ì°¸ëŠ”ë‹¤... ì¼ë‹¨ ì°¸ì•„...", score: 1 },
                    { text: "ë‚˜ì¤‘ì— ë”°ë¡œ ì–˜ê¸°í•¨", score: 2 },
                    { text: "íšŒì˜ ì¤‘ì— \"ê·¸ê±° ì œ ì•„ì´ë””ì–´ì¸ë°ìš”?\" ë°•ìŒ", score: 4 },
                    { text: "ê·¸ ë™ë£Œ ë’·ë‹´ ì¡´ë‚˜ ê¹œ ã…‹", score: 3 }
                ]
            },
            {
                text: "ì ì‹¬ ë©”ë‰´ ì •í•  ë•Œ ë‹¹ì‹ ì€?",
                options: [
                    { text: "ì•„ë¬´ê±°ë‚˜~ ë‹¤ ì¢‹ì•„ìš”~", score: 1 },
                    { text: "ì˜ê²¬ ë‚´ê³  íˆ¬í‘œí•˜ìê³  í•¨", score: 2 },
                    { text: "ë‚´ê°€ ì •í•¨. ì´ì˜ ì—†ì§€?", score: 4 },
                    { text: "ë§¨ë‚  ê°™ì€ ê±° ë¨¹ìê³  ìš°ê¹€", score: 3 }
                ]
            },
            {
                text: "ì•¼ê·¼í•˜ëŠ”ë° ë™ë£Œê°€ ì¹¼í‡´í•¨. ê¸°ë¶„ì´?",
                options: [
                    { text: "ë¶€ëŸ½ë‹¤... ë‚˜ë„ ê°€ê³  ì‹¶ë‹¤...", score: 1 },
                    { text: "ê°ì ì‚¬ì • ìˆëŠ” ê±°ì§€ ë­", score: 2 },
                    { text: "ë‚´ì¼ ê·¸ ì–˜ê¸° ìŠ¬ì© êº¼ëƒ„", score: 3 },
                    { text: "íŒ€ì¥í•œí…Œ ë³´ê³ í•¨ ã…‹", score: 4 }
                ]
            },
            {
                text: "ì‹ ì…ì´ ì‹¤ìˆ˜í–ˆì„ ë•Œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
                options: [
                    { text: "ê´œì°®ì•„~ ë‚˜ë„ ì²˜ìŒì—” ê·¸ë¬ì–´", score: 1 },
                    { text: "ì‹¤ìˆ˜í•œ ë¶€ë¶„ ì²´í¬í•´ì„œ ì•Œë ¤ì¤Œ", score: 2 },
                    { text: "í•œìˆ¨ ì‰¬ë©´ì„œ ë‚´ê°€ ë‹¤ì‹œ í•¨", score: 3 },
                    { text: "ë‹¤ë¥¸ ì‚¬ëŒë“¤ ì•ì—ì„œ ì§€ì í•¨", score: 4 }
                ]
            },
            {
                text: "íŒ€ íšŒì‹ ìë¦¬ì—ì„œ ë‹¹ì‹ ì€?",
                options: [
                    { text: "ì¡°ìš©íˆ ë¨¹ê³  ëˆˆì¹˜ë³´ë‹¤ ê°", score: 1 },
                    { text: "ì ë‹¹íˆ ë¶„ìœ„ê¸° ë§ì¶°ì¤Œ", score: 2 },
                    { text: "ìˆ ê²Œì„ ì£¼ë„í•˜ë©´ì„œ í…ì…˜ ì˜¬ë¦¼", score: 3 },
                    { text: "íšŒì‚¬ í—˜ë‹´ íƒ€ì„ ì‹œì‘~", score: 4 }
                ]
            },
            {
                text: "ì¬íƒê·¼ë¬´ í•  ë•Œ ë‹¹ì‹ ì€?",
                options: [
                    { text: "ì˜¤íˆë ¤ ë” ì—´ì‹¬íˆ ì¼í•¨", score: 1 },
                    { text: "í•  ê±° í•˜ê³  ì‰´ ë•Œ ì‰¼", score: 2 },
                    { text: "ë©”ì‹ ì €ë§Œ ì¼œë†“ê³  ë”´ì§“", score: 3 },
                    { text: "ì¹´ë©”ë¼ ë„ê³  ê²Œì„í•¨ ã…‹", score: 4 }
                ]
            },
            {
                text: "íšŒì˜ ì‹œê°„ì— ì˜ê²¬ ì¶©ëŒì´ ìƒê¸°ë©´?",
                options: [
                    { text: "ì¼ë‹¨ ë“£ê³  ì¤‘ì¬í•´ë´„", score: 1 },
                    { text: "ë‚´ ì˜ê²¬ ë…¼ë¦¬ì ìœ¼ë¡œ ì–´í•„", score: 2 },
                    { text: "ëª©ì†Œë¦¬ ì»¤ì§€ë©´ì„œ ìš°ê¹€", score: 4 },
                    { text: "\"ë‚˜ì¤‘ì— ì–˜ê¸°í•˜ì£ \" í•˜ê³  ëëƒ„", score: 3 }
                ]
            },
            {
                text: "ìƒì‚¬ê°€ ë¶ˆí•©ë¦¬í•œ ìš”ì²­ì„ í•˜ë©´?",
                options: [
                    { text: "ì¼ë‹¨ \"ë„¤\" í•˜ê³  ë°›ì•„ë“¤ì„", score: 1 },
                    { text: "ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì˜ê²¬ ì œì‹œ", score: 2 },
                    { text: "ëŒ€ë†“ê³  \"ì´ê±´ ì¢€...\" í•¨", score: 3 },
                    { text: "í•˜ëŠ” ì²™í•˜ê³  ì•ˆ í•¨", score: 4 }
                ]
            },
            {
                text: "í‡´ì‚¬í•˜ëŠ” ë™ë£Œí•œí…Œ ë‹¹ì‹ ì€?",
                options: [
                    { text: "ì§„ì‹¬ìœ¼ë¡œ ì‘ì›í•´ì¤Œ", score: 1 },
                    { text: "ì—°ë½ì²˜ êµí™˜í•˜ê³  ë", score: 2 },
                    { text: "\"ë‚˜ë„ ë°ë ¤ê°€ ã…‹ã…‹\"", score: 3 },
                    { text: "ì†ìœ¼ë¡œ 'ã…‹ í›„íšŒí• ê±¸'", score: 4 }
                ]
            }
        ];

        const villainData = {
            ISTJ: {
                score: 68,
                type: "ê·œì¹™ ê°•ìš”í˜• ë¹ŒëŸ°",
                desc: "\"ì´ê±´ ì›ë˜ ì´ë ‡ê²Œ í•˜ëŠ” ê±°ì•¼\"\n\në‹¹ì‹ ì€ <strong>ë£°ì„ ì§€í‚¤ëŠ” ê²Œ ê³§ ì •ì˜</strong>ë¼ê³  ìƒê°í•¨. ê·¼ë° ê·¸ê²Œ ë‚¨ë“¤í•œí… ì¢€ ë¹¡ë¹¡í•´ ë³´ì¼ ìˆ˜ ìˆìŒ ã…‹ã…‹ ì¼ì€ ì¡´ì˜ì¸ë° ìœµí†µì„±ì´ ì¢€...",
                traits: ["ì™„ë²½ì£¼ì˜", "ì¹¼ê°™ì€ ë§ˆê°", "ê·œì¹™ = ìƒëª…", "ì”ì†Œë¦¬ ì¥ì¸"],
                good: "ESFP",
                bad: "ENFP",
                warning: "ê°€ë”ì€ ê·œì¹™ë³´ë‹¤ ì‚¬ëŒì´ ë¨¼ì €ì¼ ìˆ˜ë„ ìˆìŒ. ë„ˆë¬´ ë¹¡ë¹¡í•˜ë©´ í›„ë°°ë“¤ ë‹¤ ë„ë§ê° ã…‹",
                tip: "\"ì´ë²ˆë§Œ ë´ì¤„ê²Œ\" ì´ ë§ ì—°ìŠµí•´ë³´ì…ˆ. ì¸ìƒ í¸í•´ì§."
            },
            ISFJ: {
                score: 42,
                type: "ì€ê·¼ ì„œìš´í•¨ ì €ì¥í˜• ë¹ŒëŸ°",
                desc: "\"ì•„ë‹ˆ ê´œì°®ì•„...\" (ì†ìœ¼ë¡  ì¡´ë‚˜ ì„œìš´í•¨)\n\nê²‰ìœ¼ë¡  ì°©í•œë° <strong>ì†ìœ¼ë¡œ ë‹¤ ê¸°ì–µ</strong>í•˜ê³  ìˆìŒ. ë‚˜ì¤‘ì— í•œ ë²ˆì— í„°ì§€ë©´ ë¬´ì„œìš´ íƒ€ì… ã…‹ã…‹",
                traits: ["ì°©í•œì²™ ì¥ì¸", "ì†ë§ˆìŒ ìˆ¨ê¹€", "ì„œìš´í•¨ ì €ì¥ì†Œ", "ê°‘ìê¸° í­ë°œ"],
                good: "ESTP",
                bad: "ENTP",
                warning: "ì„œìš´í•œ ê±° ë°”ë¡œë°”ë¡œ ë§í•´ì•¼ í•¨. ìŒ“ì•„ë‘ë©´ ë‚˜ì¤‘ì— í•µí­ë°œí•¨.",
                tip: "\"ë‚˜ ì‚¬ì‹¤ ì¢€ ì„œìš´í–ˆì–´\" ì´ê±° í•œ ë²ˆë§Œ ë§í•´ë´. ì„¸ìƒ ë‹¬ë¼ì§."
            },
            INFJ: {
                score: 55,
                type: "ì¡°ìš©í•œ íŒë‹¨í˜• ë¹ŒëŸ°",
                desc: "\"(ì¡°ìš©íˆ ê´€ì°° ì¤‘)\"\n\në§ì€ ì—†ëŠ”ë° <strong>ë‹¤ ë³´ê³  ë‹¤ ì•Œê³  ìˆìŒ</strong>. ì†ìœ¼ë¡œ í‰ê°€ ëë‚´ê³  ê²°ë¡  ë‚´ë¦° ìƒíƒœ. ê²‰ìœ¼ë¡  ëª¨ë¥´ê² ì§€ë§Œ ì´ë¯¸ ë“±ê¸‰ ë§¤ê²¨ë†¨ìŒ ã…‹",
                traits: ["ê´€ì°°ë ¥ ë¯¸ì³¤ìŒ", "ì†ìœ¼ë¡œ í‰ê°€", "ì„ ë„˜ìœ¼ë©´ ëƒ‰ì •ì»·", "ì€ê·¼ ë…ì„¤"],
                good: "ENFP",
                bad: "ESTP",
                warning: "ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì˜ í‰ê°€ë¥¼ ì€ê·¼ ë¬´ì„œì›Œí•¨. ê°€ë”ì€ ë§ë¡œ í•´ì£¼ì…ˆ.",
                tip: "íŒë‹¨ì€ ë‚˜ì¤‘ì— í•˜ê³  ì¼ë‹¨ ë“¤ì–´ë´. ì˜ì™¸ì˜ ë°˜ì „ ìˆì„ ìˆ˜ë„."
            },
            INTJ: {
                score: 85,
                type: "ëƒ‰ì†Œ ì©ŒëŠ” ë¹ŒëŸ°",
                desc: "\"ê·¸ê±° ë¹„íš¨ìœ¨ì ì¸ë°?\"\n\n<strong>í‹€ë¦° ë§ì€ ì•ˆ í•˜ëŠ”ë°</strong> ë“£ëŠ” ì‚¬ëŒ ê¸°ë¶„ì€ ê°œê°™ìŒ ã…‹ã…‹ ê·¼ë° ê²°ê³¼ëŠ” í•­ìƒ ì¢‹ì•„ì„œ í•  ë§ì´ ì—†ìŒ.",
                traits: ["ë…¼ë¦¬ ê´´ë¬¼", "íš¨ìœ¨ ì¤‘ë…", "í‘œì • ê´€ë¦¬ 0", "ê²°ê³¼ë¡œ ì¦ëª…"],
                good: "ENFP",
                bad: "ESFJ",
                warning: "ë§ëŠ” ë§ë„ ë“£ê¸° ì‹«ê²Œ í•˜ë©´ ë¹ŒëŸ°ì„. í¬ì¥ ì¢€ í•˜ì…ˆ.",
                tip: "\"ì¢‹ì€ ì‹œë„ì˜€ì–´, ê·¼ë°~\" ì´ë ‡ê²Œ ì‹œì‘í•´ë´. ë¶„ìœ„ê¸° 180ë„ ë‹¬ë¼ì§."
            },
            ISTP: {
                score: 62,
                type: "ë¬´ê´€ì‹¬ ì¿¨ê°€ì´ ë¹ŒëŸ°",
                desc: "\"ì•„ ëª°ë¼ ì•Œì•„ì„œ í•´\"\n\n<strong>ê´€ì‹¬ ì—†ëŠ” ì²™</strong> ì¡´ë‚˜ ì˜í•¨. ê·¼ë° ê·¸ê²Œ ë˜ ì¿¨í•´ ë³´ì—¬ì„œ ë¬¸ì œ ã…‹ã…‹ íŒ€í”Œ ì•ˆ í•˜ê³  í˜¼ì ë‹¤ í•´ë²„ë¦¼.",
                traits: ["ê´€ì‹¬ ì—†ìŒ", "í˜¼ì ë‹¤ í•¨", "ì¿¨í•œ ì²™", "ê°ì • ìˆ¨ê¹€"],
                good: "ESFJ",
                bad: "ENFJ",
                warning: "ë¬´ê´€ì‹¬ì´ ë•Œë¡  ìƒì²˜ê°€ ë¨. ê°€ë”ì€ ë°˜ì‘ ì¢€ í•´ì¤˜.",
                tip: "\"ì˜¤ ê´œì°®ë„¤\" ì´ í•œë§ˆë””ê°€ íŒ€ ë¶„ìœ„ê¸° ì‚´ë¦¼. ì§„ì§œì„."
            },
            ISFP: {
                score: 38,
                type: "ì†Œì‹¬í•œ ì²™ ë¹ŒëŸ°",
                desc: "\"ë„¤ë„¤ ì•Œê² ìŠµë‹ˆë‹¤...\" (ì†ìœ¼ë¡œ: ã…‹ã…‹ ë‹ˆê°€ ë­”ë°)\n\nê²‰ìœ¼ë¡  ìˆœë‘¥ì´ì¸ë° <strong>ì†ìœ¼ë¡  ì¡´ë‚˜ ë¹¡ì¹¨</strong> ã…‹ã…‹ ê·¼ë° í‹°ë¥¼ ì•ˆ ë‚´ì„œ ì•„ë¬´ë„ ëª¨ë¦„. ê·¸ê²Œ ë” ë¬´ì„œì›€.",
                traits: ["ê²‰ë°”ì†ì´‰", "ì¸ë‚´ì‹¬ ì¥ì¸", "ì†ìœ¼ë¡œ ìš•í•¨", "ê°‘ìê¸° í‡´ì‚¬"],
                good: "ENTJ",
                bad: "ESTJ",
                warning: "ì°¸ë‹¤ ì°¸ë‹¤ ê°‘ìê¸° í‡´ì‚¬í•˜ë©´ ë‹¤ ë‹¹í™©í•¨. ì¤‘ê°„ì— ë§ ì¢€ í•´.",
                tip: "í™”ë‚  ë•Œ ë°”ë¡œ ë§í•´ì•¼ í•¨. ìŒ“ì•„ë‘ë©´ ê²°êµ­ ë³¸ì¸ë§Œ ì†í•´ì„."
            },
            INFP: {
                score: 48,
                type: "ì´ìƒì£¼ì˜ ë¹ŒëŸ°",
                desc: "\"ì´ê±´ ì¢€ ì•„ë‹Œ ê²ƒ ê°™ì•„ìš”...\"\n\n<strong>ë³¸ì¸ë§Œì˜ ê¸°ì¤€</strong>ì´ í™•ê³ í•¨. ê·¸ ê¸°ì¤€ì— ì•ˆ ë§ìœ¼ë©´ ì€ê·¼ ë¬´ì‹œí•¨ ã…‹ã…‹ ìˆœìˆ˜í•´ ë³´ì´ëŠ”ë° ì˜ì™¸ë¡œ ê³ ì§‘ ì©œ.",
                traits: ["ë‚´ ê¸°ì¤€ í™•ê³ ", "ì€ê·¼ ê³ ì§‘", "ê°ì„± í­ë°œ", "í˜„ì‹¤ ë„í”¼"],
                good: "ENTJ",
                bad: "ESTJ",
                warning: "ì´ìƒê³¼ í˜„ì‹¤ì€ ë‹¤ë¦„. ê°€ë”ì€ íƒ€í˜‘ë„ í•„ìš”í•¨.",
                tip: "\"ì´ë²ˆë§Œ\" ì–‘ë³´í•´ë´. ì˜ì™¸ë¡œ ê·¸ê²Œ ë” í° ê±¸ ì–»ëŠ” ë°©ë²•ì„."
            },
            INTP: {
                score: 72,
                type: "ì§€ì  ìš°ì›” ë¹ŒëŸ°",
                desc: "\"ê·¸ê±´ ë…¼ë¦¬ì ìœ¼ë¡œ ë§ì§€ ì•ŠëŠ”ë°ìš”\"\n\n<strong>í‹€ë¦° ê±° ëª» ì°¸ìŒ</strong>. ì§€ì  ìš•êµ¬ê°€ ë„˜ì³ì„œ íšŒì˜ ë•Œë§ˆë‹¤ í† ë¡  ë°°í‹€í•¨. ê·¼ë° ë³¸ì¸ì€ í† ë¡ ì´ë¼ ìƒê°í•˜ê³  ìƒëŒ€ëŠ” ì‹¸ì›€ì´ë¼ ìƒê°í•¨ ã…‹",
                traits: ["ë…¼ë¦¬ ì¤‘ë…", "ì§€ì  ì¾Œê°", "í† ë¡  = ì·¨ë¯¸", "ê°ì • ì´í•´ ë¶ˆê°€"],
                good: "ENTJ",
                bad: "ESFJ",
                warning: "ë§ëŠ” ë§ì´ì–´ë„ ë¶„ìœ„ê¸° íŒŒì•… ì¢€. íšŒì˜ ë¶„ìœ„ê¸° ì‹¸í•´ì§.",
                tip: "\"ê·¸ë ‡ê²Œ ìƒê°í•  ìˆ˜ë„ ìˆê² ë„¤ìš”\" ì´ê±° í•œ ë²ˆë§Œ ì¨ë´. ë¶„ìœ„ê¸° ë‹¬ë¼ì§."
            },
            ESTP: {
                score: 75,
                type: "ì„  ë„˜ëŠ” ë¹ŒëŸ°",
                desc: "\"ã…‹ã…‹ã…‹ ì¥ë‚œì¸ë° ì™œ ê·¸ë˜~\"\n\n<strong>ì„  ë„˜ëŠ” íƒ€ì´ë°</strong>ì„ ëª¨ë¦„. ë³¸ì¸ì€ ì¬ë°Œë‹¤ê³  ìƒê°í•˜ëŠ”ë° ìƒëŒ€ëŠ” ë¶ˆí¸í•¨ ã…‹ã…‹ ê·¼ë° ì¼ì€ ë˜ ì˜í•´ì„œ ë­ë¼ í•˜ê¸° ì• ë§¤í•¨.",
                traits: ["ì„  ëª¨ë¦„", "ë¶„ìœ„ê¸° ë©”ì´ì»¤", "ì¥ë‚œ = ì• ì •", "ëˆˆì¹˜ ì œë¡œ"],
                good: "ISFJ",
                bad: "INFJ",
                warning: "ì¥ë‚œë„ ìƒëŒ€ê°€ ì›ƒì–´ì•¼ ì¥ë‚œì„. ë¶ˆí¸í•˜ë©´ ê·¸ëƒ¥ ë¹ŒëŸ°ì„.",
                tip: "ì¥ë‚œì¹˜ê¸° ì „ì— ìƒëŒ€ í‘œì • í•œ ë²ˆë§Œ ë´. ê·¸ê²Œ ì„¼ìŠ¤ì„."
            },
            ESFP: {
                score: 52,
                type: "ê´€ì¢… ë¹ŒëŸ°",
                desc: "\"ë‹¤ë“¤ ë‚˜ë§Œ ë´~\"\n\n<strong>ì£¼ëª©ë°›ê³  ì‹¶ì€ ìš•êµ¬</strong>ê°€ ë„˜ì¹¨. íšŒì˜ ë•Œë„ ë³¸ì¸ ì–˜ê¸°ë¡œ ë¹ ì§€ê³ , íšŒì‹ ë•Œë„ ë§ˆì´í¬ ë…ì í•¨ ã…‹ã…‹ ê·¼ë° ë˜ ë¶„ìœ„ê¸°ëŠ” ì‚´ë ¤ì„œ...",
                traits: ["ê´€ì‹¬ ì¤‘ë…", "TMI ì¥ì¸", "ë¶„ìœ„ê¸° ë©”ì´ì»¤", "ì§€ë£¨í•¨ ëª» ì°¸ìŒ"],
                good: "ISTJ",
                bad: "INTJ",
                warning: "ê°€ë”ì€ ë‚¨ ì–˜ê¸°ë„ ë“¤ì–´ì¤˜. ì¼ë°©ì ì´ë©´ í”¼ê³¤í•´í•¨.",
                tip: "\"ë„ˆëŠ” ì–´ë•Œ?\" ì´ ì§ˆë¬¸ ìŠµê´€í™”í•´ë´. ê´€ê³„ ì—…ê·¸ë ˆì´ë“œë¨."
            },
            ENFP: {
                score: 58,
                type: "í…ì…˜ ê°•ìš” ë¹ŒëŸ°",
                desc: "\"ì•¼ ì¬ë°Œê² ë‹¤!! ë‹¤ ê°™ì´ í•˜ì!!\"\n\n<strong>ë³¸ì¸ í…ì…˜ì„ ë‚¨í•œí…Œ ê°•ìš”</strong>í•¨. ì¡°ìš©íˆ ì¼í•˜ê³  ì‹¶ì€ ì‚¬ëŒí•œí… ì¢€ ë¶€ë‹´ ã…‹ã…‹ ê·¼ë° ê±°ì ˆí•˜ë©´ ì„œìš´í•´í•¨.",
                traits: ["í…ì…˜ max", "ì°¸ì—¬ ê°•ìš”", "ê±°ì ˆ = ìƒì²˜", "ì‚°ë§Œí•¨"],
                good: "INTJ",
                bad: "ISTJ",
                warning: "ëª¨ë“  ì‚¬ëŒì´ ê°™ì€ í…ì…˜ì€ ì•„ë‹˜. ì¡°ìš©í•œ ê²ƒë„ ì¡´ì¤‘í•´ì¤˜.",
                tip: "\"ê°™ì´ í• ë˜?\" ë¬¼ì–´ë³´ê³  \"ê´œì°®ì•„\" í•˜ë©´ ì§„ì§œ ê´œì°®ì€ ê±°ì„. ë°›ì•„ë“¤ì—¬."
            },
            ENTP: {
                score: 82,
                type: "í† ë¡  ê´´ë¬¼ ë¹ŒëŸ°",
                desc: "\"ê·¼ë° ê·¸ê±° ë°˜ëŒ€ë¡œ ìƒê°í•´ë³´ë©´~\"\n\n<strong>ë…¼ìŸ ìì²´ë¥¼ ì¦ê¹€</strong>. íšŒì˜ ëë‚  ë•Œì¯¤ ìƒˆë¡œìš´ ë…¼ì  ë˜ì§€ëŠ” íƒ€ì… ã…‹ã…‹ ë³¸ì¸ì€ ì¬ë°ŒëŠ”ë° ë‚¨ë“¤ì€ ì§‘ì— ê°€ê³  ì‹¶ìŒ.",
                traits: ["ë…¼ìŸ ì¤‘ë…", "ë°˜ë°• ë³¸ëŠ¥", "ìƒˆ ì•„ì´ë””ì–´ í­ë°œ", "ê²°ë¡  ì•ˆ ëƒ„"],
                good: "INFJ",
                bad: "ISFJ",
                warning: "í† ë¡ ë„ ë•Œê°€ ìˆìŒ. í‡´ê·¼ ì‹œê°„ì— ìƒˆ ë…¼ì  ë˜ì§€ì§€ ë§ˆ.",
                tip: "\"ì´ê±´ ë‹¤ìŒì— ì–˜ê¸°í•˜ì\" ì´ê±° ì—°ìŠµí•´ë´. ì‚¬ëŒë“¤ì´ ê³ ë§ˆì›Œí•¨."
            },
            ESTJ: {
                score: 78,
                type: "ê¼°ëŒ€ ì½”ìŠ¤í”„ë ˆ ë¹ŒëŸ°",
                desc: "\"ì›ë˜ ê·¸ëŸ° ê±°ì•¼\" \"ë‚´ê°€ í•´ë´ì„œ ì•„ëŠ”ë°\"\n\n<strong>ë‚˜ì´ëŠ” ì–´ë¦°ë° ê¼°ëŒ€ ë§ˆì¸ë“œ</strong>ê°€ ì¥ì°©ë¨ ã…‹ã…‹ ì¼ ì˜í•˜ëŠ” ê±´ ë§ëŠ”ë° ë°©ì‹ì´ ì¢€ ì˜¬ë“œí•¨.",
                traits: ["ê²½í—˜ = ì§„ë¦¬", "ë‚´ ë°©ì‹ ìµœê³ ", "ìœµí†µì„± ì œë¡œ", "ì”ì†Œë¦¬ ì¥ì¸"],
                good: "ISFP",
                bad: "INFP",
                warning: "\"ë‚´ê°€ í•´ë´ì„œ ì•Œì•„\"ëŠ” ìš”ì¦˜ ì•ˆ ë¨¹í˜. ì‹œëŒ€ê°€ ë‹¬ë¼ì¡ŒìŒ.",
                tip: "\"ìš”ì¦˜ì€ ì–´ë–»ê²Œ í•´?\" ì´ë ‡ê²Œ ë¬¼ì–´ë´. í›„ë°°ë“¤ì´ ê°ë™í•¨."
            },
            ESFJ: {
                score: 65,
                type: "ì˜¤ì§€ë– ë¹ŒëŸ°",
                desc: "\"ê´œì°®ì•„? ë°¥ì€ ë¨¹ì—ˆì–´? ì´ê±° í•´ë´\"\n\n<strong>ê´€ì‹¬ì´ ë„˜ì³ì„œ ë¬¸ì œ</strong>ì„. ë³¸ì¸ì€ ì±™ê²¨ì£¼ëŠ” ê±´ë° ë°›ëŠ” ì‚¬ëŒì€ ë¶€ë‹´ìŠ¤ëŸ¬ì›€ ã…‹ã…‹ ì„ ì˜ì˜ ê°„ì„­.",
                traits: ["ê´€ì‹¬ í­ë°œ", "ì±™ê¹€ ì¤‘ë…", "ê±°ì ˆí•˜ë©´ ì„œìš´", "TMI ìˆ˜ì§‘"],
                good: "ISTP",
                bad: "INTP",
                warning: "ê´€ì‹¬ë„ ì ë‹¹í•´ì•¼ í•¨. ë„ˆë¬´ ë§ìœ¼ë©´ ê°ì‹œì²˜ëŸ¼ ëŠê»´ì§.",
                tip: "ë¬¼ì–´ë³´ê¸° ì „ì— í•œ ë²ˆë§Œ ìƒê°í•´ë´. \"ì´ê±° í•„ìš”í•œ ê´€ì‹¬ì¸ê°€?\""
            },
            ENFJ: {
                score: 60,
                type: "ì„ ì˜ì˜ ì»¨íŠ¸ë¡¤ ë¹ŒëŸ°",
                desc: "\"ì´ê²Œ ë„ˆí•œí…Œ ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ~\"\n\n<strong>ì¢‹ì€ ì˜ë„ë¡œ ì»¨íŠ¸ë¡¤</strong>í•¨. ê·¼ë° ê·¸ê²Œ ìƒëŒ€ë°© ì˜ì‚¬ëŠ” ì•ˆ ë¬¼ì–´ë´„ ã…‹ã…‹ ì„ ì˜ì˜ ë…ì¬ì.",
                traits: ["ì„ ì˜ í­ë°œ", "ë°©í–¥ ì œì‹œ", "ì˜ì‚¬ ë¬´ì‹œ", "ì±…ì„ê° ê³¼ë‹¤"],
                good: "ISTP",
                bad: "INTJ",
                warning: "ì¢‹ì€ ì˜ë„ì—¬ë„ ê°•ìš”í•˜ë©´ ë¶€ë‹´ë¨. ì„ íƒê¶Œ ì¤˜ì•¼ í•¨.",
                tip: "\"ì–´ë–»ê²Œ ìƒê°í•´?\" ë¨¼ì € ë¬¼ì–´ë³´ê³  ì˜ê²¬ ì œì‹œí•´ë´."
            },
            ENTJ: {
                score: 92,
                type: "ë…ì¬ì ë¹ŒëŸ°",
                desc: "\"ë‚´ ë§ëŒ€ë¡œ í•˜ë©´ ë¨\"\n\n<strong>ë¦¬ë”ì‹­ì´ ë„˜ì³ì„œ ë…ì¬ê°€ ë¨</strong> ã…‹ã…‹ ê·¼ë° ê²°ê³¼ëŠ” ì¡´ë‚˜ ì˜ ë‚´ì„œ ì•„ë¬´ë„ ë­ë¼ ëª»í•¨. ì¼ = ì¸ìƒ.",
                traits: ["ê²°ê³¼ ì¤‘ì‹œ", "íš¨ìœ¨ ì§‘ì°©", "ì§€ì‹œ ë§ˆìŠ¤í„°", "ì›Œì»¤í™€ë¦­"],
                good: "ISFP",
                bad: "INFP",
                warning: "ì¼ ì˜í•´ë„ ì‚¬ëŒì´ ë– ë‚˜ë©´ ì˜ë¯¸ ì—†ìŒ. ê³¼ì •ë„ ì¤‘ìš”í•¨.",
                tip: "\"ìˆ˜ê³ í–ˆì–´\" ì´ í•œë§ˆë””ê°€ íŒ€ ì¶©ì„±ë„ ì˜¬ë¦¼. ì§„ì§œì„."
            }
        };

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function showMbtiScreen() {
            showScreen('mbti');
        }

        function selectMbti(btn) {
            document.querySelectorAll('.mbti-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            selectedMbti = btn.textContent;
            
            setTimeout(() => {
                startQuestions();
            }, 300);
        }

        function startQuestions() {
            currentQuestion = 0;
            villainScore = 0;
            showScreen('question');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQuestion];
            const progress = ((currentQuestion) / questions.length) * 100;
            
            document.getElementById('progress').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `Q.${String(currentQuestion + 1).padStart(2, '0')}`;
            document.getElementById('questionText').textContent = q.text;
            
            const optionsHtml = q.options.map((opt, idx) => 
                `<button class="option-btn slide-in" style="animation-delay: ${idx * 0.1}s" onclick="selectOption(${opt.score})">${opt.text}</button>`
            ).join('');
            
            document.getElementById('options').innerHTML = optionsHtml;
        }

        function selectOption(score) {
            villainScore += score;
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showLoading();
            }
        }

        function showLoading() {
            showScreen('loading');
            setTimeout(() => {
                showResult();
            }, 2500);
        }

        function showResult() {
            const data = villainData[selectedMbti];
            
            // Adjust score based on answers
            const baseScore = data.score;
            const answerBonus = Math.round((villainScore / 40) * 20) - 10;
            const finalScore = Math.min(99, Math.max(20, baseScore + answerBonus));
            
            document.getElementById('resultMbti').textContent = selectedMbti;
            document.getElementById('gaugeValue').textContent = finalScore + '%';
            document.getElementById('villainType').textContent = data.type;
            document.getElementById('villainDesc').innerHTML = data.desc.replace(/\n/g, '<br>');
            
            const traitsHtml = data.traits.map(t => `<span class="trait-tag">${t}</span>`).join('');
            document.getElementById('villainTraits').innerHTML = traitsHtml;
            
            document.getElementById('goodMatch').textContent = data.good;
            document.getElementById('badMatch').textContent = data.bad;
            document.getElementById('warningText').textContent = data.warning;
            document.getElementById('tipText').textContent = data.tip;
            
            showScreen('result');
            
            // Animate gauge
            setTimeout(() => {
                document.getElementById('gaugeFill').style.width = finalScore + '%';
            }, 300);
        }

        function shareResult() {
            const text = `ë‚˜ì˜ íšŒì‚¬ ë¹ŒëŸ° ìœ í˜•: ${selectedMbti} - ${villainData[selectedMbti].type}\n\nì•Œê³ ë³´ë‹ˆ ë‚´ê°€ ë¹ŒëŸ°? í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° ğŸ‘‡`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ì•Œê³ ë³´ë‹ˆ ë‚´ê°€ ë¹ŒëŸ°?',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + '\n' + window.location.href);
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”! ğŸ“‹');
            }
        }

        function retry() {
            selectedMbti = '';
            currentQuestion = 0;
            villainScore = 0;
            showScreen('intro');
        }
    </script>
</body>
</html>
